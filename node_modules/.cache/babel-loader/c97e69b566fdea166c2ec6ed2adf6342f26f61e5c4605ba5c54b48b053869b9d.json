{"ast":null,"code":"var _jsxFileName = \"M:\\\\nakul\\\\work\\\\my-news\\\\src\\\\Component\\\\News.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport { useState, useEffect } from \"react\";\n// import Spine from './Spinner'\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction News(props) {\n  _s();\n  const [state, setState] = useState([]);\n  // const[loading,setLoading]=useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n  const fetchApi = async () => {\n    try {\n      // props.setProgress(10);\n      // console.log(props.setProgress)\n      const response = await fetch(`https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`);\n      // props.setProgress = 30;\n      let data = await response.json();\n      // props.setProgress = 70;\n      console.log(data, \"data\");\n      setState(data.articles);\n      setTotalResults(data.totalResults);\n      // props.setProgress(100);\n      // props.setProgress = 100;\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchApi();\n  }, []);\n\n  // const previous=async()=>{\n  //   try {\n  //     const response = await fetch(\n  //       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\n  //     );\n  //     let data = await response.json();\n\n  //     setState(data.articles);\n  //   } catch (error) {\n  //     console.error(\"Error fetching data:\", error);\n  //   }\n  //    setPage(page-1)\n  //    console.log(page)\n\n  // }\n  // const next=async()=>{\n\n  //   try {\n  //     const response = await fetch(\n  //       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\n  //     );\n  //     let data = await response.json();\n\n  //     setState(data.articles);\n  //   } catch (error) {\n  //     console.error(\"Error fetching data:\", error);\n  //   }\n  //   console.log(page)\n  //    setPage(page+1)\n  // }\n\n  //  console.log(state,\"ssss\");\n  const fetchMoreData = async () => {\n    // props.setProgress(10);\n    // console.log(props.setProgress)\n    const response = await fetch(`https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page + 1}`);\n    //  props.setProgress=(30);\n    setPage(page + 1);\n    let data = await response.json();\n    //  props.setProgress=(70);\n    //  console.log(data,\"data\");\n    setState(state.concat(data.articles));\n    setTotalResults(data.totalResults);\n    // props.setProgress(100);\n    //  props.setProgress=(100);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center my-1\",\n      children: [\"Headlines of \", props.category, \" Section\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: state.length,\n      next: fetchMoreData,\n      hasMore: state.length !== totalResults,\n      loader: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container content-row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row my-3\",\n              children: state.map((currvalue, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" col-4 col-md-4 \",\n                children: /*#__PURE__*/_jsxDEV(NewsItem, {\n                  title: currvalue.title,\n                  description: currvalue.description,\n                  url: currvalue.urlToImage,\n                  link: currvalue.url,\n                  date: currvalue.publishedAt,\n                  author: currvalue.author,\n                  source: currvalue.source.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 18\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(News, \"CWpBMH3FvcTiKoY9LFfjun3b82Q=\");\n_c = News;\nNews.defaultProps = {\n  category: \"general\"\n};\nNews.propTypes = {\n  category: PropTypes.string\n};\nexport default News;\nvar _c;\n$RefreshReg$(_c, \"News\");","map":{"version":3,"names":["React","NewsItem","useState","useEffect","PropTypes","InfiniteScroll","jsxDEV","_jsxDEV","Fragment","_Fragment","News","props","_s","state","setState","search","setSearch","page","setPage","totalResults","setTotalResults","fetchApi","response","fetch","category","data","json","console","log","articles","error","fetchMoreData","concat","children","className","fileName","_jsxFileName","lineNumber","columnNumber","dataLength","length","next","hasMore","loader","map","currvalue","index","title","description","url","urlToImage","link","date","publishedAt","author","source","name","_c","defaultProps","propTypes","string","$RefreshReg$"],"sources":["M:/nakul/work/my-news/src/Component/News.js"],"sourcesContent":["import React from \"react\";\r\nimport NewsItem from \"./NewsItem\";\r\nimport { useState, useEffect } from \"react\";\r\n// import Spine from './Spinner'\r\nimport PropTypes from \"prop-types\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nfunction News(props) {\r\n  const [state, setState] = useState([]);\r\n  // const[loading,setLoading]=useState(true);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [totalResults, setTotalResults] = useState(0);\r\n  const fetchApi = async () => {\r\n    try {\r\n      // props.setProgress(10);\r\n      // console.log(props.setProgress)\r\n      const response = await fetch(\r\n        `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\r\n      );\r\n      // props.setProgress = 30;\r\n      let data = await response.json();\r\n      // props.setProgress = 70;\r\n      console.log(data, \"data\");\r\n      setState(data.articles);\r\n      setTotalResults(data.totalResults);\r\n      // props.setProgress(100);\r\n      // props.setProgress = 100;\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fetchApi();\r\n  }, []);\r\n\r\n  // const previous=async()=>{\r\n  //   try {\r\n  //     const response = await fetch(\r\n  //       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\r\n  //     );\r\n  //     let data = await response.json();\r\n\r\n  //     setState(data.articles);\r\n  //   } catch (error) {\r\n  //     console.error(\"Error fetching data:\", error);\r\n  //   }\r\n  //    setPage(page-1)\r\n  //    console.log(page)\r\n\r\n  // }\r\n  // const next=async()=>{\r\n\r\n  //   try {\r\n  //     const response = await fetch(\r\n  //       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\r\n  //     );\r\n  //     let data = await response.json();\r\n\r\n  //     setState(data.articles);\r\n  //   } catch (error) {\r\n  //     console.error(\"Error fetching data:\", error);\r\n  //   }\r\n  //   console.log(page)\r\n  //    setPage(page+1)\r\n  // }\r\n\r\n  //  console.log(state,\"ssss\");\r\n  const fetchMoreData = async () => {\r\n    // props.setProgress(10);\r\n    // console.log(props.setProgress)\r\n    const response = await fetch(\r\n      `https://newsapi.org/v2/top-headlines?country=us&category=${\r\n        props.category\r\n      }&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page + 1}`\r\n    );\r\n    //  props.setProgress=(30);\r\n    setPage(page + 1);\r\n    let data = await response.json();\r\n    //  props.setProgress=(70);\r\n    //  console.log(data,\"data\");\r\n    setState(state.concat(data.articles));\r\n    setTotalResults(data.totalResults);\r\n    // props.setProgress(100);\r\n    //  props.setProgress=(100);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"text-center my-1\">\r\n        Headlines of {props.category} Section\r\n      </h1>\r\n      {/* <Spinner/>  */}\r\n      <InfiniteScroll\r\n        dataLength={state.length}\r\n        next={fetchMoreData}\r\n        hasMore={state.length !== totalResults}\r\n        loader={<h4>Loading...</h4>}\r\n      >\r\n        <div className=\"container content-row\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 \">\r\n              <div className=\"row my-3\">\r\n                {/* <div className=\"col-md-3\"> */}\r\n                  {/* <Spine/>  */}\r\n\r\n                  {state.map((currvalue, index) => (\r\n                 <div className=\" col-4 col-md-4 \" key={index}>\r\n                      <NewsItem\r\n                        title={currvalue.title}\r\n                        description={currvalue.description}\r\n                        url={currvalue.urlToImage}\r\n                        link={currvalue.url}\r\n                        date={currvalue.publishedAt}\r\n                        author={currvalue.author}\r\n                        source={currvalue.source.name}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                {/* </div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* <div className=\"container d-flex justify-content-between\"> */}\r\n          {/* <button disabled={page<=1} type=\"button\" className=\"btn btn-dark\" onClick={previous}>← Previous</button> */}\r\n          {/* <button type=\"button\" className=\"btn btn-dark \" onClick={next}>Next →</button> */}\r\n          {/* </div> */}\r\n        </div>\r\n      </InfiniteScroll>\r\n    </>\r\n  );\r\n}\r\nNews.defaultProps = {\r\n  category: \"general\",\r\n};\r\nNews.propTypes = {\r\n  category: PropTypes.string,\r\n};\r\n\r\nexport default News;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C;AACA,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,cAAc,MAAM,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE7D,SAASC,IAAIA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACnB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC;EACA,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAMmB,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACF;MACA;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,4DAA2DZ,KAAK,CAACa,QAAS,iDAAgDP,IAAK,EAClI,CAAC;MACD;MACA,IAAIQ,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAChC;MACAC,OAAO,CAACC,GAAG,CAACH,IAAI,EAAE,MAAM,CAAC;MACzBX,QAAQ,CAACW,IAAI,CAACI,QAAQ,CAAC;MACvBT,eAAe,CAACK,IAAI,CAACN,YAAY,CAAC;MAClC;MACA;IACF,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EACD3B,SAAS,CAAC,MAAM;IACdkB,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA,MAAMU,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC;IACA;IACA,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CACzB,4DACCZ,KAAK,CAACa,QACP,iDAAgDP,IAAI,GAAG,CAAE,EAC5D,CAAC;IACD;IACAC,OAAO,CAACD,IAAI,GAAG,CAAC,CAAC;IACjB,IAAIQ,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAChC;IACA;IACAZ,QAAQ,CAACD,KAAK,CAACmB,MAAM,CAACP,IAAI,CAACI,QAAQ,CAAC,CAAC;IACrCT,eAAe,CAACK,IAAI,CAACN,YAAY,CAAC;IAClC;IACA;EACF,CAAC;;EAED,oBACEZ,OAAA,CAAAE,SAAA;IAAAwB,QAAA,gBACE1B,OAAA;MAAI2B,SAAS,EAAC,kBAAkB;MAAAD,QAAA,GAAC,eAClB,EAACtB,KAAK,CAACa,QAAQ,EAAC,UAC/B;IAAA;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEL/B,OAAA,CAACF,cAAc;MACbkC,UAAU,EAAE1B,KAAK,CAAC2B,MAAO;MACzBC,IAAI,EAAEV,aAAc;MACpBW,OAAO,EAAE7B,KAAK,CAAC2B,MAAM,KAAKrB,YAAa;MACvCwB,MAAM,eAAEpC,OAAA;QAAA0B,QAAA,EAAI;MAAU;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAE;MAAAL,QAAA,eAE5B1B,OAAA;QAAK2B,SAAS,EAAC,uBAAuB;QAAAD,QAAA,eACpC1B,OAAA;UAAK2B,SAAS,EAAC,KAAK;UAAAD,QAAA,eAClB1B,OAAA;YAAK2B,SAAS,EAAC,YAAY;YAAAD,QAAA,eACzB1B,OAAA;cAAK2B,SAAS,EAAC,UAAU;cAAAD,QAAA,EAIpBpB,KAAK,CAAC+B,GAAG,CAAC,CAACC,SAAS,EAAEC,KAAK,kBAC7BvC,OAAA;gBAAK2B,SAAS,EAAC,kBAAkB;gBAAAD,QAAA,eAC5B1B,OAAA,CAACN,QAAQ;kBACP8C,KAAK,EAAEF,SAAS,CAACE,KAAM;kBACvBC,WAAW,EAAEH,SAAS,CAACG,WAAY;kBACnCC,GAAG,EAAEJ,SAAS,CAACK,UAAW;kBAC1BC,IAAI,EAAEN,SAAS,CAACI,GAAI;kBACpBG,IAAI,EAAEP,SAAS,CAACQ,WAAY;kBAC5BC,MAAM,EAAET,SAAS,CAACS,MAAO;kBACzBC,MAAM,EAAEV,SAAS,CAACU,MAAM,CAACC;gBAAK;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B;cAAC,GATgCQ,KAAK;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAUpC,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAED;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACQ,CAAC;EAAA,eACjB,CAAC;AAEP;AAAC1B,EAAA,CA7HQF,IAAI;AAAA+C,EAAA,GAAJ/C,IAAI;AA8HbA,IAAI,CAACgD,YAAY,GAAG;EAClBlC,QAAQ,EAAE;AACZ,CAAC;AACDd,IAAI,CAACiD,SAAS,GAAG;EACfnC,QAAQ,EAAEpB,SAAS,CAACwD;AACtB,CAAC;AAED,eAAelD,IAAI;AAAC,IAAA+C,EAAA;AAAAI,YAAA,CAAAJ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}