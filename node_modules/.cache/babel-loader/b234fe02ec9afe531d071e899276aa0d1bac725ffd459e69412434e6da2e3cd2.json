{"ast":null,"code":"import _regeneratorRuntime from\"M:/nakul/work/news-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"M:/nakul/work/news-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"M:/nakul/work/news-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import NewsItem from\"./NewsItem\";import{useState,useEffect}from\"react\";// import Spine from './Spinner'\nimport InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function News(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];// const[loading,setLoading]=useState(true);\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalResults=_useState8[0],setTotalResults=_useState8[1];var fetchApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://newsapi.org/v2/top-headlines?country=us&category=\".concat(props.category,\"&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=\").concat(page));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;// props.setProgress = 70;\nconsole.log(data,\"data\");setState(data.articles);setTotalResults(data.totalResults);// props.setProgress(100);\n// props.setProgress = 100;\n_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchApi(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchApi();},[]);// const previous=async()=>{\n//   try {\n//     const response = await fetch(\n//       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\n//     );\n//     let data = await response.json();\n//     setState(data.articles);\n//   } catch (error) {\n//     console.error(\"Error fetching data:\", error);\n//   }\n//    setPage(page-1)\n//    console.log(page)\n// }\n// const next=async()=>{\n//   try {\n//     const response = await fetch(\n//       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\n//     );\n//     let data = await response.json();\n//     setState(data.articles);\n//   } catch (error) {\n//     console.error(\"Error fetching data:\", error);\n//   }\n//   console.log(page)\n//    setPage(page+1)\n// }\n//  console.log(state,\"ssss\");\nvar fetchMoreData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://newsapi.org/v2/top-headlines?country=us&category=\".concat(props.category,\"&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=\").concat(page+1));case 2:response=_context2.sent;//  props.setProgress=(30);\nsetPage(page+1);_context2.next=6;return response.json();case 6:data=_context2.sent;//  props.setProgress=(70);\n//  console.log(data,\"data\");\nsetState(state.concat(data.articles));setTotalResults(data.totalResults);// props.setProgress(100);\n//  props.setProgress=(100);\ncase 9:case\"end\":return _context2.stop();}},_callee2);}));return function fetchMoreData(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center my-1\",children:[\"Headlines of \",props.category,\" Section\"]}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:state.length,next:fetchMoreData,hasMore:state.length!==totalResults,loader:/*#__PURE__*/_jsx(\"h4\",{children:\"Loading...\"}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container content-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row my-3\",children:state.map(function(currvalue,index){return/*#__PURE__*/_jsx(\"div\",{className:\" col-4 col-md-4 \",children:/*#__PURE__*/_jsx(NewsItem,{title:currvalue.title,description:currvalue.description,url:currvalue.urlToImage,link:currvalue.url,date:currvalue.publishedAt,author:currvalue.author,source:currvalue.source.name})},index);})})})})})})]});}News.defaultProps={category:\"general\"};export default News;","map":{"version":3,"names":["React","NewsItem","useState","useEffect","InfiniteScroll","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","News","props","_useState","_useState2","_slicedToArray","state","setState","_useState3","_useState4","search","setSearch","_useState5","_useState6","page","setPage","_useState7","_useState8","totalResults","setTotalResults","fetchApi","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","category","sent","json","console","log","articles","t0","error","stop","apply","arguments","fetchMoreData","_ref2","_callee2","_callee2$","_context2","children","className","dataLength","length","hasMore","loader","map","currvalue","index","title","description","url","urlToImage","link","date","publishedAt","author","source","name","defaultProps"],"sources":["M:/nakul/work/news-app/src/Component/News.js"],"sourcesContent":["import React from \"react\";\r\nimport NewsItem from \"./NewsItem\";\r\nimport { useState, useEffect } from \"react\";\r\n// import Spine from './Spinner'\r\nimport PropTypes from \"prop-types\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nfunction News(props) {\r\n  const [state, setState] = useState([]);\r\n  // const[loading,setLoading]=useState(true);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [totalResults, setTotalResults] = useState(0);\r\n  const fetchApi = async () => {\r\n    try {\r\n      // props.setProgress(10);\r\n      // console.log(props.setProgress)\r\n      const response = await fetch(\r\n        `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\r\n      );\r\n      // props.setProgress = 30;\r\n      let data = await response.json();\r\n      // props.setProgress = 70;\r\n      console.log(data, \"data\");\r\n      setState(data.articles);\r\n      setTotalResults(data.totalResults);\r\n      // props.setProgress(100);\r\n      // props.setProgress = 100;\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fetchApi();\r\n  }, []);\r\n\r\n  // const previous=async()=>{\r\n  //   try {\r\n  //     const response = await fetch(\r\n  //       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\r\n  //     );\r\n  //     let data = await response.json();\r\n\r\n  //     setState(data.articles);\r\n  //   } catch (error) {\r\n  //     console.error(\"Error fetching data:\", error);\r\n  //   }\r\n  //    setPage(page-1)\r\n  //    console.log(page)\r\n\r\n  // }\r\n  // const next=async()=>{\r\n\r\n  //   try {\r\n  //     const response = await fetch(\r\n  //       `https://newsapi.org/v2/top-headlines?country=us&category=${props.category}&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page}`\r\n  //     );\r\n  //     let data = await response.json();\r\n\r\n  //     setState(data.articles);\r\n  //   } catch (error) {\r\n  //     console.error(\"Error fetching data:\", error);\r\n  //   }\r\n  //   console.log(page)\r\n  //    setPage(page+1)\r\n  // }\r\n\r\n  //  console.log(state,\"ssss\");\r\n  const fetchMoreData = async () => {\r\n    // props.setProgress(10);\r\n    // console.log(props.setProgress)\r\n    const response = await fetch(\r\n      `https://newsapi.org/v2/top-headlines?country=us&category=${\r\n        props.category\r\n      }&apiKey=ebbe1bac9a6f4af8847ee7e2922e771a&page=${page + 1}`\r\n    );\r\n    //  props.setProgress=(30);\r\n    setPage(page + 1);\r\n    let data = await response.json();\r\n    //  props.setProgress=(70);\r\n    //  console.log(data,\"data\");\r\n    setState(state.concat(data.articles));\r\n    setTotalResults(data.totalResults);\r\n    // props.setProgress(100);\r\n    //  props.setProgress=(100);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"text-center my-1\">\r\n        Headlines of {props.category} Section\r\n      </h1>\r\n      {/* <Spinner/>  */}\r\n      <InfiniteScroll\r\n        dataLength={state.length}\r\n        next={fetchMoreData}\r\n        hasMore={state.length !== totalResults}\r\n        loader={<h4>Loading...</h4>}\r\n      >\r\n        <div className=\"container content-row\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12 \">\r\n              <div className=\"row my-3\">\r\n                {/* <div className=\"col-md-3\"> */}\r\n                  {/* <Spine/>  */}\r\n\r\n                  {state.map((currvalue, index) => (\r\n                 <div className=\" col-4 col-md-4 \" key={index}>\r\n                      <NewsItem\r\n                        title={currvalue.title}\r\n                        description={currvalue.description}\r\n                        url={currvalue.urlToImage}\r\n                        link={currvalue.url}\r\n                        date={currvalue.publishedAt}\r\n                        author={currvalue.author}\r\n                        source={currvalue.source.name}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                {/* </div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* <div className=\"container d-flex justify-content-between\"> */}\r\n          {/* <button disabled={page<=1} type=\"button\" className=\"btn btn-dark\" onClick={previous}>← Previous</button> */}\r\n          {/* <button type=\"button\" className=\"btn btn-dark \" onClick={next}>Next →</button> */}\r\n          {/* </div> */}\r\n        </div>\r\n      </InfiniteScroll>\r\n    </>\r\n  );\r\n}\r\nNews.defaultProps = {\r\n  category: \"general\",\r\n};\r\nNews.propTypes = {\r\n  category: PropTypes.string,\r\n};\r\n\r\nexport default News;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}